"use strict";!function(){window.Modal=function(){function t(){var t;t=document.createDocumentFragment(),o.lilyWrapper=document.createElement("div"),o.lilyWrapper.className="lily",this.modal=document.createElement("div"),this.modal.className="lily-modal "+this.options.className,0==this.options.fullWindow?(this.modal.style.width=this.options.maxWidth+"px",this.modal.style.minWidth=this.options.minWidth+"px"):(this.modal.style.width=o.viewPortWith,this.modal.style.height=o.viewPortHeight),1==this.options.closeButton&&(this.closeButton=document.createElement("div"),this.closeButton.className="lily-close "+this.options.className,this.closeButton.innerHTML="x",this.modal.appendChild(this.closeButton)),1==this.options.overlay&&(this.overlay=document.createElement("div"),this.overlay.className="lily-overlay "+this.options.className,o.lilyWrapper.appendChild(this.overlay)),o.lilyContent=document.getElementById("lily-content"),o.parentNode=o.lilyContent.parentNode,i(o.lilyContent,this.modal),o.lilyWrapper.appendChild(this.modal),t.appendChild(o.lilyWrapper),document.body.appendChild(t)}function e(){this.closeButton&&this.closeButton.addEventListener("click",this.close.bind(this)),this.overlay&&this.overlay.addEventListener("click",this.close.bind(this))}function i(t,e){t.parentNode.replaceChild(e,t),e.appendChild(t)}this.closeButton=null,this.modal=null,this.overlay=null,this.transitionEvent=function(){var t=document.createElement("div");return t.style.OTransition?"oTransitionEnd":t.style.WebkitTransition?"webkitTransitionEnd":"transitionend"}();var l={className:"fade",closeButton:!0,maxWidth:600,minWidth:320,overlay:!0,fullWindow:!1},o={lilyWrapper:null,lilyContent:null,parentNode:null,viewPortWith:"100vw",viewPortHeight:"100vh"};arguments[0]&&"object"==typeof arguments[0]&&(this.options=function(t,e){var i;for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}(l,arguments[0])),Modal.prototype.close=function(){var t=this;window.getComputedStyle(this.modal).height,this.modal.className=this.modal.className.replace("lily-open",""),this.modal.addEventListener(this.transitionEvent,function(){t.modal.parentNode.removeChild(t.modal),o.parentNode.appendChild(t.modal.querySelector("#lily-content")),o.lilyWrapper.parentNode.removeChild(o.lilyWrapper)}),1==this.options.overlay&&(this.overlay.className=this.overlay.className.replace("lily-open",""),this.overlay.addEventListener(this.transitionEvent,function(){t.overlay.parentNode.removeChild(t.overlay)}))},Modal.prototype.open=function(){1==this.options.fullWindow&&(this.options.overlay=!1),t.call(this),e.call(this),window.getComputedStyle(this.modal).height,this.modal.className=this.modal.className+" lily-open",1==this.options.overlay&&(this.overlay.className=this.overlay.className+" lily-open")}}}();